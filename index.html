<script>
  function generateImage() {
    const url = document.getElementById('imageUrl').value;
    const bg = document.getElementById('background').value;
    if (!url) return alert('이미지 URL을 입력하세요.');

    const img = new Image();
    img.crossOrigin = 'anonymous';
    img.onload = function () {
      canvas.width = 1400;
      canvas.height = 500;

      if (bg !== 'transparent') {
        ctx.fillStyle = bg;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
      } else {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
      }

      // 이미지 비율 유지한 채로 크기 조정
      const scale = Math.min(500 / img.height, 1400 / img.width);
      const imgWidth = img.width * scale;
      const imgHeight = img.height * scale;
      const x = (1400 - imgWidth) / 2;
      const y = 100; // 항상 위에서 100px 아래 위치

      ctx.drawImage(img, x, y, imgWidth, imgHeight);

      const link = document.createElement('a');
      link.download = 'book-cover.png';
      link.href = canvas.toDataURL();
      link.click();

      bookImage.src = url;
      bookImage.style.display = 'block';
      bookImage.style.max
